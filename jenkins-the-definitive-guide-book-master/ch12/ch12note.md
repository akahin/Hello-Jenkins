
自动化部署的一个基本原则是要能够重用二进制库.在部署过程中重新构建应用程序是没有效率的,也可能不可靠.


###### 数据库更新
Liquibase可以使用一个高级别方法来帮助在数据库版本之间对升级路径进行管理和组织
Liquibase工作原理是在数据库中保留应用在表上的数据库更新动作的记录,这样就易于把任何目标数据库都改为一个给定版本的应用程序的正确状态.不需要担心会两次运行同样的更新脚本--Liquibase也有回滚更改的能力,至少对于某些类型的回滚,但不会对每个更改都起作用,所以不要对回滚功能有更多期望.

###### 回滚更改
恢复数据库到先前状态最可靠的办法就是在升级之前对数据库做快照,然后使用这个快照把数据库恢复到先前的状态.一种有效的方式是在Jenkins中的部署构建作业上,把这个过程自动化起来,然后把数据库快照以及可用来部署的二进制文件保存为构建产物.通过这种方法,就可以使用保存的快照恢复数据库,并且使用保存的二进制文件重新部署应用程序.

###### 部署到应用程序服务器上
Jenkins提供插件来帮助把应用程序部署到一定数量的常用应用服务器上.Deploy插件部署tomcat,Jboss,和glassfish.
对于其他应用服务器来说,通常不得不把部署过程集成到构建脚本里,或者求助于定制化的脚本来部署应用程序.

热部署:应用程序部署到一个运行着的服务器上,一般也是让应用程序上线的快速有效的方法.

许多公司使用企业级的仓库管理工具如nexus和artifactory来存储和共享二进制构建产物.
